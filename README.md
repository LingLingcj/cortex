# Cortex - å¤šåŠŸèƒ½ä¸ªäººç½‘ç«™ç³»ç»Ÿ

> ä¸€ä¸ªé›†åšå®¢ã€ä¹ æƒ¯è¿½è¸ªã€è®¢é˜…ç®¡ç†ã€åª’ä½“åº“ã€çŸ¥è¯†åº“å’Œå·¥å…·ç®±äºä¸€ä½“çš„ç°ä»£åŒ–ä¸ªäººä¸­å¿ƒ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªé‡‡ç”¨**å¾®æœåŠ¡æ··åˆæ¶æ„**çš„å…¨æ ˆé¡¹ç›®ï¼Œæ—¨åœ¨é€šè¿‡å®è·µå­¦ä¹ å¤šç§åç«¯è¯­è¨€ï¼ˆNode.jsã€Goã€Rustï¼‰ï¼ŒåŒæ—¶æ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ä¸ªäººæ•°å­—ç©ºé—´ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **ğŸ  ä»ªè¡¨ç›˜**: èšåˆæ‰€æœ‰æ¨¡å—çš„å…³é”®ä¿¡æ¯ï¼Œä¸€ç«™å¼æ¦‚è§ˆ
- **âœï¸ åšå®¢**: Markdown ç¼–è¾‘å™¨ï¼Œæ”¯æŒè‰ç¨¿/å…¬å¼€ï¼Œæ ‡ç­¾åˆ†ç±»
- **âœ… ä¹ æƒ¯è¿½è¸ª**: æ—¥å†æ‰“å¡ã€ç»Ÿè®¡åˆ†æã€è‡ªåŠ¨æé†’
- **ğŸ’° è®¢é˜…ç®¡ç†**: è´¢åŠ¡è·Ÿè¸ªã€ç»­è´¹æé†’ã€å¼€é”€ç»Ÿè®¡
- **ğŸ¬ åª’ä½“åº“**: ä¹¦å½±éŸ³è®°å½•ï¼Œè±†ç“£é›†æˆï¼Œå¹´åº¦æŠ¥å‘Š
- **ğŸ“š çŸ¥è¯†åº“**: ä»£ç ç‰‡æ®µã€ç¨åè¯»ã€Markdown ç¬”è®°
- **ğŸ› ï¸ å·¥å…·ç®±**: ä»·æ ¼è¿½è¸ªå™¨ç­‰å®ç”¨å°å·¥å…·

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯
- **React 19** + **TypeScript**
- **Vite 7** æ„å»ºå·¥å…·
- **React Router 7** è·¯ç”±ç®¡ç†
- **Zustand** çŠ¶æ€ç®¡ç†
- **Ant Design** UI ç»„ä»¶åº“
- **TanStack Query** æ•°æ®è¯·æ±‚

### åç«¯ (å¾®æœåŠ¡)

| æœåŠ¡ | è¯­è¨€/æ¡†æ¶ | èŒè´£ | ç«¯å£ |
|------|-----------|------|------|
| ä¸» API | Node.js (NestJS) | è®¤è¯ã€åšå®¢ã€ä»ªè¡¨ç›˜èšåˆ | 3000 |
| ä¹ æƒ¯è¿½è¸ª | Go (Fiber) | æ‰“å¡è®°å½•ã€ç»Ÿè®¡ã€å®šæ—¶æé†’ | 3001 |
| åª’ä½“/è®¢é˜… | Node.js (Express) | å¤–éƒ¨ API è°ƒç”¨ã€æ•°æ®ç®¡ç† | 3002 |
| çŸ¥è¯†åº“ | Rust (Axum) | æœç´¢ç´¢å¼•ã€ä»£ç é«˜äº® | 3003 |
| å·¥å…·æœåŠ¡ | Go (Colly) | ä»·æ ¼çˆ¬è™«ã€æ•°æ®åˆ†æ | 3004 |

### æ•°æ®å­˜å‚¨
- **PostgreSQL** - ä¸»æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä»»åŠ¡é˜Ÿåˆ—
- **MinIO/S3** - æ–‡ä»¶å­˜å‚¨


## ğŸ“‚ é¡¹ç›®ç»“æ„

```
blog/
â”œâ”€â”€ frontend/              # Vite + React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/        # Zustand çŠ¶æ€
â”‚   â”‚   â””â”€â”€ services/      # API è°ƒç”¨
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ services/              # åç«¯å¾®æœåŠ¡
â”‚   â”œâ”€â”€ main-api/          # Node.js ä¸»æœåŠ¡
â”‚   â”œâ”€â”€ habits-service/    # Go ä¹ æƒ¯æœåŠ¡
â”‚   â”œâ”€â”€ media-service/     # Node.js åª’ä½“æœåŠ¡
â”‚   â”œâ”€â”€ knowledge-service/ # Rust çŸ¥è¯†åº“
â”‚   â””â”€â”€ tools-service/     # Go å·¥å…·æœåŠ¡
â”‚
â”œâ”€â”€ shared/                # å…±äº«ä»£ç 
â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹
â”‚   â””â”€â”€ proto/             # gRPC å®šä¹‰
â”‚
â”œâ”€â”€ infra/                 # åŸºç¡€è®¾æ–½é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ nginx.conf
â”‚
â””â”€â”€ docs/                  # æ–‡æ¡£
    â”œâ”€â”€ architecture/      # æ¶æ„è®¾è®¡
    â””â”€â”€ api/               # API æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js** >= 18
- **Go** >= 1.21
- **Rust** >= 1.75
- **Docker** & **Docker Compose**
- **PostgreSQL** 15
- **Redis** 7

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**


2. **å¯åŠ¨åŸºç¡€è®¾æ–½**
```bash
cd infra
docker-compose up -d
```

3. **å¯åŠ¨å‰ç«¯**
```bash
cd frontend
npm install
npm run dev
# è®¿é—® http://localhost:5173
```

4. **å¯åŠ¨ä¸» API æœåŠ¡**
```bash
cd services/main-api
npm install
npx prisma migrate dev
npm run start:dev
# API è¿è¡Œåœ¨ http://localhost:3000
```

5. **å¯åŠ¨ Go ä¹ æƒ¯æœåŠ¡**
```bash
cd services/habits-service
go mod download
go run cmd/main.go
# æœåŠ¡è¿è¡Œåœ¨ http://localhost:3001
```

6. **å¯åŠ¨ Rust çŸ¥è¯†åº“æœåŠ¡**
```bash
cd services/knowledge-service
cargo build
cargo run
# æœåŠ¡è¿è¡Œåœ¨ http://localhost:3003
```

## ğŸ“š æ–‡æ¡£å¯¼èˆª

- [æ¶æ„è®¾è®¡æ–‡æ¡£](./docs/architecture/ARCHITECTURE.md)
- [API æ¥å£æ–‡æ¡£](./docs/api/API.md)
- [æ•°æ®åº“è®¾è®¡](./docs/architecture/DATABASE.md)
- [å¼€å‘æŒ‡å—](./docs/DEVELOPMENT.md)
- [éƒ¨ç½²æŒ‡å—](./docs/DEPLOYMENT.md)

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

### å‰ç«¯
```bash
npm run dev          # å¼€å‘æ¨¡å¼
npm run build        # ç”Ÿäº§æ„å»º
npm run preview      # é¢„è§ˆæ„å»ºç»“æœ
npm run lint         # ä»£ç æ£€æŸ¥
```

### ä¸» API (NestJS)
```bash
npm run start:dev    # å¼€å‘æ¨¡å¼
npm run build        # ç”Ÿäº§æ„å»º
npm run test         # è¿è¡Œæµ‹è¯•
npx prisma studio    # æ•°æ®åº“ç®¡ç†ç•Œé¢
```

### Go æœåŠ¡
```bash
go run cmd/main.go   # è¿è¡Œ
go build             # æ„å»º
go test ./...        # æµ‹è¯•
```

### Rust æœåŠ¡
```bash
cargo run            # è¿è¡Œ
cargo build --release # å‘å¸ƒæ„å»º
cargo test           # æµ‹è¯•
```

## ğŸ“ˆ å¼€å‘è·¯çº¿å›¾

### Phase 1: åŸºç¡€æ­å»º âœ…
- [x] é¡¹ç›®ç»“æ„åˆå§‹åŒ–
- [x] å‰ç«¯æ¡†æ¶æ­å»º
- [x] NestJS ä¸»æœåŠ¡
- [ ] æ•°æ®åº“è®¾è®¡
- [ ] è®¤è¯ç³»ç»Ÿ
- [ ] åšå®¢æ¨¡å—

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ (è¿›è¡Œä¸­)
- [ ] ä»ªè¡¨ç›˜èšåˆ
- [ ] Go ä¹ æƒ¯è¿½è¸ªæœåŠ¡
- [ ] è®¢é˜…ç®¡ç†
- [ ] é€šçŸ¥ç³»ç»Ÿ

### Phase 3: æ‰©å±•åŠŸèƒ½
- [ ] åª’ä½“åº“
- [ ] Rust çŸ¥è¯†åº“æœåŠ¡
- [ ] å·¥å…·ç®± (ä»·æ ¼è¿½è¸ª)

### Phase 4: ä¼˜åŒ–éƒ¨ç½²
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] Docker é•œåƒ
- [ ] CI/CD æµç¨‹
- [ ] ç›‘æ§å‘Šè­¦


